# ğŸ¤– AI Multi-Agent Development System

è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå”èª¿ã—ã¦ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚’è¡Œã†éšå±¤å‹é–‹ç™ºæ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 

**ğŸ“– Read this in other languages:** [English](README-en.md)

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

ãŠã˜ã„ã•ã‚“ â†’ æ¡ƒå¤ªéƒ â†’ ãŠä¾›ãŸã¡ ã®éšå±¤æ§‹é€ ã§ã€GitHub issue/PR/worktreeã‚’æ´»ç”¨ã—ãŸæœ¬æ ¼çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’å®Ÿç¾ã—ã¾ã™

> **ğŸ“Œ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦**
> ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ [nishimoto265/Claude-Code-Communication](https://github.com/nishimoto265/Claude-Code-Communication) ã‚’å…ƒã«ä½œæˆãƒ»æ‹¡å¼µã•ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ‘¥ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹æˆã¨å½¹å‰²

```
ğŸ“Š ãŠã˜ã„ã•ã‚“ ã‚»ãƒƒã‚·ãƒ§ãƒ³ (1ãƒšã‚¤ãƒ³)
â””â”€â”€ ğŸ‘´ ãŠã˜ã„ã•ã‚“: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±æ‹¬è²¬ä»»è€…
    - é–‹ç™ºä½œæ¥­ã®æŒ‡ç¤ºå‡ºã—ï¼ˆä½œæ¥­ã¯è¡Œã‚ãªã„ï¼‰
    - æœ€çµ‚ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‰¿èª
    - å£èª¿: ã€Œã€œã˜ã‚ƒã®ã†ã€ã€Œã€œã˜ã‚ƒã‚ˆã€

ğŸ“Š ä»²é–“ ã‚»ãƒƒã‚·ãƒ§ãƒ³ (4ãƒšã‚¤ãƒ³)
â”œâ”€â”€ ğŸ—¡ï¸ æ¡ƒå¤ªéƒ: ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼
â”‚   - GitHub issueä½œæˆ
â”‚   - ãŠä¾›ã¸ã®ä½œæ¥­å‰²ã‚Šå½“ã¦ï¼ˆãã³ã ã‚“ã”å„€å¼ï¼‰
â”‚   - PRè»½å¾®ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼é‡è¦æ¡ˆä»¶ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼
â”‚   - å£èª¿: ã€Œã€œã§ã”ã–ã‚‹ã€ã€Œã€œã„ãŸã™ã€
â”‚
â”œâ”€â”€ ğŸ• ãŠä¾›ã®çŠ¬: å®Ÿè¡Œæ‹…å½“è€…A
â”‚   - worktreeä½œæˆãƒ»å®Ÿè£…ãƒ»PRä½œæˆ
â”‚   - å£èª¿: ã€Œã€œãƒ¯ãƒ³ã€
â”‚
â”œâ”€â”€ ğŸµ ãŠä¾›ã®çŒ¿: å®Ÿè¡Œæ‹…å½“è€…B
â”‚   - worktreeä½œæˆãƒ»å®Ÿè£…ãƒ»PRä½œæˆ
â”‚   - å£èª¿: ã€Œã€œã‚¦ã‚­ãƒ¼ã€
â”‚
â””â”€â”€ ğŸ¦ ãŠä¾›ã®é›‰: å®Ÿè¡Œæ‹…å½“è€…C
    - worktreeä½œæˆãƒ»å®Ÿè£…ãƒ»PRä½œæˆ
    - å£èª¿: ã€Œã€œã‚±ãƒ¼ãƒ³ã€
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 0. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/nakaken-churadata/aichat-pbcc.git
cd aichat-pbcc
```

### 1. tmuxç’°å¢ƒæ§‹ç¯‰

âš ï¸ **æ³¨æ„**: æ—¢å­˜ã® `ä»²é–“` ã¨ `ãŠã˜ã„ã•ã‚“` ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã‚ã‚‹å ´åˆã¯è‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã¾ã™ã€‚

```bash
./setup.sh
```

### 2. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¢ã‚¿ãƒƒãƒ

```bash
# ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç¢ºèª
tmux attach-session -t ä»²é–“

# ãŠã˜ã„ã•ã‚“ç¢ºèªï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ï¼‰
tmux attach-session -t ãŠã˜ã„ã•ã‚“
```

### 3. Claude Codeèµ·å‹•

**æ‰‹é †1: ãŠã˜ã„ã•ã‚“èªè¨¼**
```bash
# ã¾ãšãŠã˜ã„ã•ã‚“ã§èªè¨¼ã‚’å®Ÿæ–½
tmux send-keys -t ãŠã˜ã„ã•ã‚“ 'claude' C-m
```
èªè¨¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å¾“ã£ã¦è¨±å¯ã‚’ä¸ãˆã¦ãã ã•ã„ã€‚

èªè¨¼å®Œäº†å¾Œã€ãŠã˜ã„ã•ã‚“ã«å½¹å‰²ã‚’ä¼ãˆã¾ã™ï¼š
```bash
./agent-send.sh ãŠã˜ã„ã•ã‚“ "ã‚ãªãŸã¯ã€ŒãŠã˜ã„ã•ã‚“ã€ã§ã™ã€‚ç’°å¢ƒå¤‰æ•° AGENT_ROLE ã‚’ç¢ºèªã—ã€instructions/ojiisan.md ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚"
```

**æ‰‹é †2: ä»²é–“ä¸€æ‹¬èµ·å‹•**
```bash
# èªè¨¼å®Œäº†å¾Œã€ä»²é–“ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¸€æ‹¬èµ·å‹•
for i in {0..3}; do tmux send-keys -t ä»²é–“:0.$i 'claude' C-m; done
```

å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å½¹å‰²ã‚’ä¼ãˆã¾ã™ï¼ˆè‡ªå‹•ï¼‰ï¼š
```bash
# å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å½¹å‰²ã‚’è‡ªå‹•é€šçŸ¥
./init-agents.sh
```

ã¾ãŸã¯ã€æ‰‹å‹•ã§å€‹åˆ¥ã«é€šçŸ¥ã™ã‚‹å ´åˆï¼š
```bash
./agent-send.sh æ¡ƒå¤ªéƒ "ã‚ãªãŸã¯ã€Œæ¡ƒå¤ªéƒã€ã§ã™ã€‚ç’°å¢ƒå¤‰æ•° AGENT_ROLE ã‚’ç¢ºèªã—ã€instructions/momotarou.md ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚"
./agent-send.sh ãŠä¾›ã®çŠ¬ "ã‚ãªãŸã¯ã€ŒãŠä¾›ã®çŠ¬ã€ã§ã™ã€‚ç’°å¢ƒå¤‰æ•° AGENT_ROLE ã‚’ç¢ºèªã—ã€instructions/otomo.md ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚èªå°¾ã¯ã€Œãƒ¯ãƒ³ã€ã§ã™ã€‚"
./agent-send.sh ãŠä¾›ã®çŒ¿ "ã‚ãªãŸã¯ã€ŒãŠä¾›ã®çŒ¿ã€ã§ã™ã€‚ç’°å¢ƒå¤‰æ•° AGENT_ROLE ã‚’ç¢ºèªã—ã€instructions/otomo.md ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚èªå°¾ã¯ã€Œã‚¦ã‚­ãƒ¼ã€ã§ã™ã€‚"
./agent-send.sh ãŠä¾›ã®é›‰ "ã‚ãªãŸã¯ã€ŒãŠä¾›ã®é›‰ã€ã§ã™ã€‚ç’°å¢ƒå¤‰æ•° AGENT_ROLE ã‚’ç¢ºèªã—ã€instructions/otomo.md ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚èªå°¾ã¯ã€Œã‚±ãƒ¼ãƒ³ã€ã§ã™ã€‚"
```

### 4. å®Ÿéš›ã®é–‹ç™ºä½œæ¥­ä¾‹

ãŠã˜ã„ã•ã‚“ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ä½œæ¥­ã‚’ä¾é ¼ï¼š

**ä¾‹1: æ©Ÿèƒ½è¿½åŠ **
```bash
./agent-send.sh æ¡ƒå¤ªéƒ "ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã»ã—ã„ã®ã˜ã‚ƒã€‚JWTèªè¨¼ã‚’ä½¿ã„ã€ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã€‚"
```

**ä¾‹2: ãƒã‚°ä¿®æ­£**
```bash
./agent-send.sh æ¡ƒå¤ªéƒ "ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«500ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å•é¡Œã‚’ä¿®æ­£ã—ã¦ã»ã—ã„ã®ã˜ã‚ƒã€‚"
```

**ä¾‹3: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**
```bash
./agent-send.sh æ¡ƒå¤ªéƒ "APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’çµ±ä¸€ã—ã¦ã»ã—ã„ã®ã˜ã‚ƒã€‚"
```

å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè‡ªå‹•çš„ã«å½¹å‰²ã«å¿œã˜ã¦ä½œæ¥­ã‚’é€²ã‚ã¾ã™ã€‚

## ğŸ“œ æŒ‡ç¤ºæ›¸ã«ã¤ã„ã¦

å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å½¹å‰²ã¯è©³ç´°ãªæŒ‡ç¤ºæ›¸ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼š

### æŒ‡ç¤ºæ›¸ä¸€è¦§
- **ğŸ‘´ ãŠã˜ã„ã•ã‚“**: `instructions/ojiisan.md`
  - ä½œæ¥­å†…å®¹ã®æŒ‡ç¤ºã®ã¿ï¼ˆå®Ÿè£…ã¯è¡Œã‚ãªã„ï¼‰
  - ãƒ—ãƒ­ã‚»ã‚¹æŒ‡ç¤ºã¯ä¸è¦ï¼ˆã€Œissueã‚’ä½œæˆã›ã‚ˆã€ç­‰ã¯è¨€ã‚ãªã„ï¼‰
  - ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‰¿èªãƒ»å´ä¸‹ã®åˆ¤æ–­

- **ğŸ—¡ï¸ æ¡ƒå¤ªéƒ**: `instructions/momotarou.md`
  - GitHub issueä½œæˆ
  - ãŠä¾›ã¸ã®ä½œæ¥­å‰²ã‚Šå½“ã¦
  - ãã³ã ã‚“ã”å„€å¼ã®å®Ÿæ–½
  - PRãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆè»½å¾®ãªã‚‚ã®ï¼‰ã¾ãŸã¯ä¸Šä½ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªã¯ãŠã˜ã„ã•ã‚“çµŒç”±

- **ğŸ•ğŸµğŸ¦ ãŠä¾›ã®çŠ¬ãƒ»çŒ¿ãƒ»é›‰**: `instructions/otomo.md`
  - ãã³ã ã‚“ã”å„€å¼ã¸ã®å¿œç­”
  - ãƒ–ãƒ©ãƒ³ãƒãƒ»worktreeä½œæˆ
  - å®Ÿè£…ä½œæ¥­
  - PRä½œæˆ
  - ãƒ¬ãƒ“ãƒ¥ãƒ¼æŒ‡æ‘˜ã¸ã®å¯¾å¿œ
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªã¯æ¡ƒå¤ªéƒçµŒç”±

### ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ
- **CLAUDE.md**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹æˆã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ä»•æ§˜

## ğŸ”„ é–‹ç™ºä½œæ¥­ãƒ•ãƒ­ãƒ¼

### æ¨™æº–çš„ãªé–‹ç™ºã‚µã‚¤ã‚¯ãƒ«

```mermaid
graph TD
    A[ãŠã˜ã„ã•ã‚“: ä½œæ¥­ä¾é ¼] --> B[æ¡ƒå¤ªéƒ: GitHub issueä½œæˆ]
    B --> C[æ¡ƒå¤ªéƒ: ãŠä¾›ã«ä½œæ¥­æŒ‡ç¤º]
    C --> D[ãã³ã ã‚“ã”å„€å¼]
    D --> E[ãŠä¾›: ãƒ–ãƒ©ãƒ³ãƒãƒ»worktreeä½œæˆ]
    E --> F[ãŠä¾›: å®Ÿè£…ä½œæ¥­]
    F --> G[ãŠä¾›: PRä½œæˆãƒ»å ±å‘Š]
    G --> H{PRè¦æ¨¡}
    H -->|è»½å¾®| I[æ¡ƒå¤ªéƒ: è‡ªèº«ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    H -->|é‡è¦| J[æ¡ƒå¤ªéƒ: ãŠã˜ã„ã•ã‚“ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼]
    I --> K[æ‰¿èª]
    J --> K
    K --> L[ãŠä¾›: ãƒãƒ¼ã‚¸]
    L --> M[ãŠä¾›: worktreeãƒ»ãƒ–ãƒ©ãƒ³ãƒå‰Šé™¤]
    M --> N[æ¡ƒå¤ªéƒ: ãŠã˜ã„ã•ã‚“ã«å®Œäº†å ±å‘Š]
```

### ğŸ¡ ãã³ã ã‚“ã”å„€å¼

ãŠä¾›ã¸ã®ä½œæ¥­ä¾é ¼æ™‚ã€ä»¥ä¸‹ã®å„€å¼ã‚’å¿…ãšè¡Œã„ã¾ã™ï¼š

1. **æ¡ƒå¤ªéƒ** â†’ ãŠä¾›: `issue #ç•ªå· ã®ä½œæ¥­ã‚’é ¼ã¿ãŸã„ã§ã”ã–ã‚‹`
2. **ãŠä¾›** â†’ æ¡ƒå¤ªéƒ: `ãã³ã ã‚“ã”ã‚’ãã ã•ã„ãƒ¯ãƒ³/ã‚¦ã‚­ãƒ¼/ã‚±ãƒ¼ãƒ³`
3. **æ¡ƒå¤ªéƒ** â†’ ãŠä¾›: `ã‚‚ã¡ã‚ã‚“ã§ã”ã–ã‚‹ã€‚ã“ã®ãã³ã ã‚“ã”ã‚’å—ã‘å–ã‚‹ãŒã‚ˆã„ ğŸ¡`
4. **ãŠä¾›** â†’ æ¡ƒå¤ªéƒ: `ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ãƒ¯ãƒ³/ã‚¦ã‚­ãƒ¼/ã‚±ãƒ¼ãƒ³ã€‚ãã‚Œã§ã¯ä½œæ¥­ã‚’é–‹å§‹ã™ã‚‹ãƒ¯ãƒ³/ã‚¦ã‚­ãƒ¼/ã‚±ãƒ¼ãƒ³`
5. **ãŠä¾›**: ä½œæ¥­é–‹å§‹

ã“ã®å„€å¼ã«ã‚ˆã‚Šã€ä½œæ¥­ã®é–‹å§‹ã‚’æ˜ç¢ºåŒ–ã—ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®ä¿¡é ¼é–¢ä¿‚ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

## ğŸ¬ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 

### agent-send.sh ã«ã‚ˆã‚‹é€šä¿¡

ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®é€šä¿¡ã¯ `agent-send.sh` ã‚’ä½¿ç”¨ï¼š

```bash
# åŸºæœ¬ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
./agent-send.sh [ç›¸æ‰‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå] "[ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹]"

# ä¾‹ï¼šãŠã˜ã„ã•ã‚“ â†’ æ¡ƒå¤ªéƒ
./agent-send.sh æ¡ƒå¤ªéƒ "Dockerfileã‚’ä½œæˆã—ã¦Cloud Runã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã»ã—ã„ã®ã˜ã‚ƒ"

# ä¾‹ï¼šæ¡ƒå¤ªéƒ â†’ ãŠä¾›ã®çŠ¬
./agent-send.sh ãŠä¾›ã®çŠ¬ "issue #42 ã®ä½œæ¥­ã‚’é ¼ã¿ãŸã„ã§ã”ã–ã‚‹"

# ä¾‹ï¼šãŠä¾›ã®çŠ¬ â†’ æ¡ƒå¤ªéƒ
./agent-send.sh æ¡ƒå¤ªéƒ "ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ #42 ã‚’ä½œæˆã—ãŸãƒ¯ãƒ³"
```

### é‡è¦ãªãƒ«ãƒ¼ãƒ«

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®è³ªå•ç¦æ­¢**: å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ç›´æ¥ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è³ªå•ã§ãã¾ã›ã‚“
  - ãŠä¾› â†’ æ¡ƒå¤ªéƒçµŒç”±ã§ç¢ºèª
  - æ¡ƒå¤ªéƒ â†’ ãŠã˜ã„ã•ã‚“çµŒç”±ã§ç¢ºèª
  - ãŠã˜ã„ã•ã‚“ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è³ªå•

- **ä¸Šä½æ‰¿èªãŒå¿…è¦ãªæ“ä½œ**:
  - PRãƒãƒ¼ã‚¸
  - ãƒ–ãƒ©ãƒ³ãƒãƒ»worktreeå‰Šé™¤
  - force push
  - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚¤ãƒ³ãƒ•ãƒ©å¤‰æ›´

## ğŸ”§ é«˜åº¦ãªä½¿ã„æ–¹

### GitHubé€£æº

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ `gh` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦GitHubã¨é€£æºã—ã¾ã™ï¼š

```bash
# ãŠä¾›ãŒè‡ªå‹•çš„ã«å®Ÿè¡Œã™ã‚‹æ“ä½œ
gh issue create --title "ã‚¿ã‚¤ãƒˆãƒ«" --body "å†…å®¹"
gh pr create --title "ã‚¿ã‚¤ãƒˆãƒ«" --body "å†…å®¹"

# worktree ã‚’ä½¿ã£ãŸä¸¦è¡Œé–‹ç™º
git worktree add ../worktree/issue-42 feature/issue-42-auth
cd ../worktree/issue-42
# ä½œæ¥­...
git worktree remove ../worktree/issue-42
```

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸€è¦§ç¢ºèª

```bash
# åˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåã‚’è¡¨ç¤º
./agent-send.sh --list
```

### ç›´æ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰

```bash
# ãŠã˜ã„ã•ã‚“ã‹ã‚‰æ¡ƒå¤ªéƒã¸
./agent-send.sh æ¡ƒå¤ªéƒ "ç·Šæ€¥ã§Dockerfileã‚’ä¿®æ­£ã—ã¦ã»ã—ã„ã®ã˜ã‚ƒ"

# æ¡ƒå¤ªéƒã‹ã‚‰ãŠä¾›ã®çŠ¬ã¸
./agent-send.sh ãŠä¾›ã®çŠ¬ "issue #15 ã®ä½œæ¥­ã‚’é ¼ã¿ãŸã„ã§ã”ã–ã‚‹"

# ãŠä¾›ã‹ã‚‰æ¡ƒå¤ªéƒã¸
./agent-send.sh æ¡ƒå¤ªéƒ "ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ #15 ã‚’ä½œæˆã—ãŸãƒ¯ãƒ³"
```

## ğŸ§ª ç¢ºèªãƒ»ãƒ‡ãƒãƒƒã‚°

### ãƒ­ã‚°ç¢ºèª

```bash
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“é€šä¿¡ãƒ­ã‚°
cat logs/send_log.txt

# ç‰¹å®šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ­ã‚°ãƒ•ã‚£ãƒ«ã‚¿
grep "æ¡ƒå¤ªéƒ" logs/send_log.txt
grep "ãŠä¾›ã®çŠ¬" logs/send_log.txt

# æœ€æ–°10ä»¶ã®é€šä¿¡ã‚’è¡¨ç¤º
tail -10 logs/send_log.txt
```

### é–‹ç™ºçŠ¶æ³ç¢ºèª

```bash
# ä½œæˆã•ã‚ŒãŸissueã‚’ç¢ºèª
gh issue list

# ä½œæˆã•ã‚ŒãŸPRã‚’ç¢ºèª
gh pr list

# worktreeä¸€è¦§
git worktree list

# ãƒ–ãƒ©ãƒ³ãƒä¸€è¦§
git branch -a
```

### tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ç¢ºèª

```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§
tmux list-sessions

# å„ãƒšã‚¤ãƒ³ã®çŠ¶æ…‹ç¢ºèª
tmux list-panes -t ä»²é–“ -F "#{pane_index}: #{pane_current_command}"
tmux list-panes -t ãŠã˜ã„ã•ã‚“ -F "#{pane_index}: #{pane_current_command}"
```

## ğŸ”„ ç’°å¢ƒãƒªã‚»ãƒƒãƒˆ

### tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒªã‚»ãƒƒãƒˆ

```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤
tmux kill-session -t ä»²é–“
tmux kill-session -t ãŠã˜ã„ã•ã‚“

# å†æ§‹ç¯‰ï¼ˆæ—¢å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯è‡ªå‹•å‰Šé™¤ï¼‰
./setup.sh
```

### é–‹ç™ºç’°å¢ƒã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

```bash
# å…¨worktreeã‚’å‰Šé™¤
git worktree list | grep worktree | awk '{print $1}' | xargs -I {} git worktree remove {}

# ä½œæ¥­ç”¨ãƒ–ãƒ©ãƒ³ãƒã‚’ä¸€æ‹¬å‰Šé™¤ï¼ˆæ…é‡ã«ï¼ï¼‰
git branch | grep 'feature/issue-' | xargs git branch -D

# ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
rm -f logs/send_log.txt

# ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
rm -rf ./tmp/*
```

### å®Œå…¨ãƒªã‚»ãƒƒãƒˆ

```bash
# ã™ã¹ã¦ã‚’ãƒªã‚»ãƒƒãƒˆ
tmux kill-session -t ä»²é–“ 2>/dev/null
tmux kill-session -t ãŠã˜ã„ã•ã‚“ 2>/dev/null
git worktree prune
rm -f logs/send_log.txt
rm -rf ./tmp/*

# å†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
./setup.sh
```

## â“ ã‚ˆãã‚ã‚‹è³ªå•

### Q: ãªãœéšå±¤æ§‹é€ ãªã®ã‹ï¼Ÿ
A: å¤§è¦æ¨¡é–‹ç™ºã§ã¯ã€çµ±æ‹¬è€…ãƒ»ãƒªãƒ¼ãƒ€ãƒ¼ãƒ»å®Ÿè£…è€…ã®å½¹å‰²åˆ†æ‹…ãŒé‡è¦ã§ã™ã€‚ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯å®Ÿéš›ã®ãƒãƒ¼ãƒ é–‹ç™ºã‚’æ¨¡å€£ã—ã¦ã„ã¾ã™ã€‚

### Q: ãã³ã ã‚“ã”å„€å¼ã¯æœ¬å½“ã«å¿…è¦ï¼Ÿ
A: ã¯ã„ã€‚ä½œæ¥­é–‹å§‹ã®æ˜ç¢ºåŒ–ã¨ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®ä¿¡é ¼é–¢ä¿‚æ§‹ç¯‰ã«é‡è¦ã§ã™ã€‚ã¾ãŸã€æ¡ƒå¤ªéƒã®ç‰©èªã®ã‚ªãƒãƒ¼ã‚¸ãƒ¥ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚

### Q: ãŠä¾›ã¯3äººå¿…è¦ï¼Ÿ
A: ä¸¦è¡Œä½œæ¥­ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚1äººã®ãŠä¾›ã§ã‚‚å‹•ä½œã—ã¾ã™ãŒã€è¤‡æ•°äººã§ä½œæ¥­ã‚’åˆ†æ‹…ã™ã‚‹ã“ã¨ã§ã‚ˆã‚ŠåŠ¹ç‡çš„ã§ã™ã€‚

### Q: Claude Codeä»¥å¤–ã®AIã§ã‚‚ä½¿ãˆã‚‹ï¼Ÿ
A: ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯Claude Codeã‚’å‰æã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ãŒã€ä»–ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã«ã‚‚å¿œç”¨å¯èƒ½ã§ã™ã€‚

### Q: å®Ÿéš›ã®ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³é–‹ç™ºã«ä½¿ãˆã‚‹ï¼Ÿ
A: ç¾çŠ¶ã¯å®Ÿé¨“çš„ãªã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚å®Ÿé‹ç”¨ã™ã‚‹å ´åˆã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚„ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–ãŒå¿…è¦ã§ã™ã€‚

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šã‹ãªã„
```bash
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåãŒæ­£ã—ã„ã‹ç¢ºèª
./agent-send.sh --list

# ãƒ­ã‚°ã‚’ç¢ºèª
cat logs/send_log.txt
```

### worktreeãŒå‰Šé™¤ã§ããªã„
```bash
# å¼·åˆ¶å‰Šé™¤
git worktree remove --force ../worktree/issue-ç•ªå·

# ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆ
rm -rf .git/worktrees/issue-ç•ªå·
git worktree prune
```

### PRãŒãƒãƒ¼ã‚¸ã§ããªã„
```bash
# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’ç¢ºèª
gh pr view ç•ªå·

# ãƒ­ãƒ¼ã‚«ãƒ«ã§è§£æ±ºå¾Œ
git push origin feature/issue-ç•ªå·
```

## ğŸ’¬ ãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€Google Gemini APIã‚’ä½¿ç”¨ã—ãŸãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ†é›¢ã—ãŸæ§‹æˆã§ã€ãã‚Œãã‚Œç‹¬ç«‹ã—ã¦ã‚¹ã‚±ãƒ¼ãƒ«å¯èƒ½ã§ã™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  chat-frontend/     â”‚
â”‚  (Next.js SSR)      â”‚
â”‚  Port: 3000         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTPS
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  chat-backend/      â”‚â—„â”€â”€â”€â”€â”€â”€â”¤ Secret Manager   â”‚
â”‚  (Next.js API)      â”‚       â”‚ (GEMINI_API_KEY) â”‚
â”‚  Port: 8081         â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Gemini API â”‚
    â”‚ + Google   â”‚
    â”‚   Search   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»ãªæ©Ÿèƒ½

- **AI ãƒãƒ£ãƒƒãƒˆ**: Gemini 2.5 Flash ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨
- **Google Search Grounding**: æœ€æ–°æƒ…å ±ã‚’æ¤œç´¢ã—ã¦å›ç­”ã«åæ˜ 
- **å¼•ç”¨å…ƒè¡¨ç¤º**: æƒ…å ±æºã®URLã‚’è¡¨ç¤º
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ†é›¢**: ç‹¬ç«‹ã—ãŸã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå¯èƒ½

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒï¼ˆdocker-composeï¼‰

#### å‰ææ¡ä»¶

- Docker ã¨ Docker Compose ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- Gemini API ã‚­ãƒ¼ã‚’å–å¾—ã—ã¦ã„ã‚‹ã“ã¨ï¼ˆ[Google AI Studio](https://makersuite.google.com/app/apikey)ï¼‰

#### èµ·å‹•æ–¹æ³•

1. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§
export GEMINI_API_KEY=your_api_key_here
```

2. **docker-compose ã§èµ·å‹•**

```bash
docker-compose up --build
```

3. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹**

```
http://localhost:3000
```

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `http://localhost:3000`
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API: `http://localhost:8081`

#### åœæ­¢æ–¹æ³•

```bash
docker-compose down
```

### Cloud Run ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆTerraformï¼‰

#### å‰ææ¡ä»¶

- Google Cloud SDK (`gcloud`) ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- Terraform (>= 1.0) ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- Google Cloud ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨

#### ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

è©³ç´°ã¯ `terraform/README.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

**ç°¡æ˜“æ‰‹é †:**

1. **å¿…è¦ãªAPIã®æœ‰åŠ¹åŒ–**

```bash
gcloud services enable run.googleapis.com \
  cloudbuild.googleapis.com \
  artifactregistry.googleapis.com \
  secretmanager.googleapis.com
```

2. **ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥**

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd chat-backend
gcloud builds submit \
  --tag asia-northeast1-docker.pkg.dev/[PROJECT_ID]/chat-app/backend:latest

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œï¼‰
cd ../chat-frontend
BACKEND_URL=$(cd ../terraform && terraform output -raw backend_url)
gcloud builds submit \
  --substitutions _NEXT_PUBLIC_API_URL=$BACKEND_URL \
  --config cloudbuild.yaml
```

3. **Terraformã§ãƒ‡ãƒ—ãƒ­ã‚¤**

```bash
cd ../terraform
cp terraform.tfvars.example terraform.tfvars
# terraform.tfvars ã‚’ç·¨é›†ï¼ˆproject_id, gemini_api_key ã‚’è¨­å®šï¼‰

terraform init
terraform plan
terraform apply
```

4. **URLã®ç¢ºèª**

```bash
terraform output frontend_url
terraform output backend_url
```

#### ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

```bash
cd terraform
terraform destroy
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
aichat-pbcc/
â”œâ”€â”€ chat-frontend/          # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆNext.js SSRï¼‰
â”‚   â”œâ”€â”€ app/               # Next.js App Router
â”‚   â”œâ”€â”€ lib/               # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ chat-backend/          # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆNext.js API Routesï¼‰
â”‚   â”œâ”€â”€ app/api/          # API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ chat/        # ãƒãƒ£ãƒƒãƒˆAPI
â”‚   â”‚   â””â”€â”€ health/      # ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
â”‚   â”œâ”€â”€ middleware.ts     # CORSè¨­å®š
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ terraform/             # Cloud Run ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨
â”‚   â”œâ”€â”€ main.tf
â”‚   â”œâ”€â”€ variables.tf
â”‚   â”œâ”€â”€ outputs.tf
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ docker-compose.yml     # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### CORSã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã® `ALLOWED_ORIGINS` ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ï¼š

```bash
# docker-compose ã®å ´åˆ
# docker-compose.yml ã® backend.environment.ALLOWED_ORIGINS ã‚’ç¢ºèª

# Cloud Run ã®å ´åˆ
# terraform/main.tf ã® ALLOWED_ORIGINS ã‚’ç¢ºèª
```

#### Gemini API ã‚¨ãƒ©ãƒ¼

API ã‚­ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ï¼š

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«
echo $GEMINI_API_KEY

# Cloud Run
# Secret Manager ã« GEMINI_API_KEY ãŒç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
gcloud secrets versions access latest --secret="GEMINI_API_KEY"
```

---

## ğŸ™ è¬è¾

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€[@nishimoto265](https://github.com/nishimoto265) æ°ã«ã‚ˆã‚‹ [Claude-Code-Communication](https://github.com/nishimoto265/Claude-Code-Communication) ã‚’åŸºã«ã—ã¦é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™ã€‚

ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¨ã‚¢ã‚¤ãƒ‡ã‚¢ã«æ„Ÿè¬ã„ãŸã—ã¾ã™ã€‚

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[MIT License](LICENSE)ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„Issueã§ã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ­“è¿ã„ãŸã—ã¾ã™ï¼

---

ğŸš€ **AI Multi-Agent ã«ã‚ˆã‚‹å”èª¿é–‹ç™ºã‚’ä½“é¨“ã—ã¦ãã ã•ã„ï¼** ğŸ¤–âœ¨

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå½¹å‰²åˆ†æ‹…ã—ãªãŒã‚‰å”åŠ›ã—ã¦ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚’è¡Œã†æ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ææ¡ˆã—ã¾ã™ã€‚
